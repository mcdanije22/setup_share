{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _toConsumableArray from \"/Users/joshmcdaniel/Documents/work/repos/setup_share/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/Users/joshmcdaniel/Documents/work/repos/setup_share/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/joshmcdaniel/Documents/work/repos/setup_share/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/Users/joshmcdaniel/Documents/work/repos/setup_share/pages/createroom.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { UserContext } from \"../utils/context/userContext\";\nimport { Row, Col, Typography } from \"antd\";\nimport { useRouter } from \"next/router\";\nimport Layout from \"../components/Layout/Layout\";\nimport CreateSetupStepOneForm from \"../components/CreateSetupForms/CreateSetupStepOneForm\";\nimport CreateSetupStepTwoForm from \"../components/CreateSetupForms/CreateSetupStepTwoForm\";\nimport CreateSetupStepThreeForm from \"../components/CreateSetupForms/CreateSetupStepThreeForm\";\nimport CreateSetupConfirmation from \"../components/CreateSetupForms/CreateSetupConfirmation\";\nimport styles from \"../components/CreateSetupForms/createRoomForms.module.scss\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { BaseAPI } from \"../utils/constants/common\";\nimport axios from \"axios\";\nvar Title = Typography.Title;\nexport var __N_SSP = true;\nexport default function CreateRoomPage() {\n  _s();\n\n  var _useContext = useContext(UserContext),\n      currentUser = _useContext.currentUser,\n      setUser = _useContext.setUser;\n\n  var router = useRouter();\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState({\n    title: \"\",\n    description: \"\",\n    setupType: \"\"\n  }),\n      stepOneForm = _useState2[0],\n      setStepOneForm = _useState2[1];\n\n  var _useState3 = useState([]),\n      stepTwoForm = _useState3[0],\n      setStepTwoForm = _useState3[1];\n\n  var _useState4 = useState({\n    imageOne: null,\n    imageTwo: null,\n    imageThree: null\n  }),\n      stepThreeForm = _useState4[0],\n      setStepThreeForm = _useState4[1];\n\n  var _useState5 = useState(1),\n      currentStep = _useState5[0],\n      setCurrentStep = _useState5[1];\n\n  var _useState6 = useState([\"Main\", \"Left\", \"Right\"]),\n      availImagePositions = _useState6[0],\n      setAvailImagePositions = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      onLoadScreenType = _useState7[0],\n      setOnLoadScreenType = _useState7[1];\n\n  var isMobile = useMediaQuery({\n    maxWidth: 767\n  });\n  var isTablet = useMediaQuery({\n    minWidth: 768,\n    maxWidth: 991\n  });\n  var isLaptop = useMediaQuery({\n    minWidth: 992\n  });\n  useEffect(function () {\n    // const cookieUser = UserContextRenew();\n    // setUser(cookieUser);\n    // console.log(currentUser);\n    //TODO need to figure out logic to set context on reload if cookie present\n    reload();\n  }, []);\n  useEffect(function () {\n    if (isMobile) {\n      setOnLoadScreenType(\"Mobile\");\n    } else if (isTablet) {\n      setOnLoadScreenType(\"Tablet\");\n    } else if (isLaptop) {\n      setOnLoadScreenType(\"Laptop\");\n    }\n  }, []);\n\n  var reload = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response, userInfo;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"test2\");\n              _context.prev = 1;\n              _context.next = 4;\n              return axios.get(\"\".concat(BaseAPI, \"/user/usercontext\"), {\n                withCredentials: true\n              });\n\n            case 4:\n              response = _context.sent;\n              _context.next = 7;\n              return response.data;\n\n            case 7:\n              userInfo = _context.sent;\n              console.log(\"test\");\n              return _context.abrupt(\"return\", userInfo);\n\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 12]]);\n    }));\n\n    return function reload() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleStepChange = function handleStepChange(step) {\n    setCurrentStep(step);\n  };\n\n  var removeImagePosition = function removeImagePosition(position) {\n    var orgList = availImagePositions;\n    var newList = orgList.filter(function (item) {\n      return item !== position;\n    });\n    setAvailImagePositions(_toConsumableArray(newList));\n  }; //need to change logic so that if you go back steps it clears list from step point so that rest are availble\n  // exmaple: three images and on confirmation screen. Click to edit 1st image, you would only be able to select that image position\n  //however, if you are on confirmation screen and go back two steps manually then you would have access to both of those image positions\n\n\n  var addImagePosition = function addImagePosition(prevPosition) {\n    var orgList = availImagePositions;\n\n    if (!orgList.includes(prevPosition)) {\n      var newList = [prevPosition].concat(_toConsumableArray(orgList));\n      setAvailImagePositions(_toConsumableArray(newList));\n    }\n  };\n\n  console.log({\n    s1: stepOneForm,\n    s2: stepTwoForm,\n    s3: stepThreeForm\n  });\n  console.log(currentUser);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    title: \"Create Setup\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: styles.createRoomContainer,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        justify: \"center\",\n        style: {\n          minHeight: \"100vh\"\n        },\n        children: currentStep === 1 ? /*#__PURE__*/_jsxDEV(Col, {\n          xs: {\n            span: 22\n          },\n          sm: {\n            span: 16\n          },\n          children: /*#__PURE__*/_jsxDEV(CreateSetupStepOneForm, {\n            setStepOneForm: setStepOneForm,\n            handleStepChange: handleStepChange,\n            stepOneForm: stepOneForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this) : currentStep === 2 ? /*#__PURE__*/_jsxDEV(Col, {\n          xs: {\n            span: 22\n          },\n          sm: {\n            span: 16\n          },\n          children: /*#__PURE__*/_jsxDEV(CreateSetupStepTwoForm, {\n            setStepTwoForm: setStepTwoForm,\n            handleStepChange: handleStepChange,\n            stepTwoForm: stepTwoForm,\n            setStepThreeForm: setStepThreeForm,\n            stepThreeForm: stepThreeForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this) : currentStep === 3 ? /*#__PURE__*/_jsxDEV(Col, {\n          xs: {\n            span: 24\n          },\n          sm: {\n            span: 16\n          },\n          children: /*#__PURE__*/_jsxDEV(CreateSetupStepThreeForm, {\n            setStepThreeForm: setStepThreeForm,\n            handleStepChange: handleStepChange,\n            stepThreeForm: stepThreeForm,\n            stepTwoForm: stepTwoForm,\n            imageNumber: 0,\n            currentStep: currentStep,\n            availImagePositions: availImagePositions,\n            removeImagePosition: removeImagePosition,\n            addImagePosition: addImagePosition,\n            onLoadScreenType: onLoadScreenType\n          }, 1, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this) : currentStep === 4 ? /*#__PURE__*/_jsxDEV(Col, {\n          xs: {\n            span: 24\n          },\n          sm: {\n            span: 16\n          },\n          children: /*#__PURE__*/_jsxDEV(CreateSetupStepThreeForm, {\n            setStepThreeForm: setStepThreeForm,\n            handleStepChange: handleStepChange,\n            stepThreeForm: stepThreeForm,\n            stepTwoForm: stepTwoForm,\n            imageNumber: 1,\n            currentStep: currentStep,\n            availImagePositions: availImagePositions,\n            removeImagePosition: removeImagePosition,\n            addImagePosition: addImagePosition,\n            onLoadScreenType: onLoadScreenType\n          }, 2, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }, this) : currentStep === 5 ? /*#__PURE__*/_jsxDEV(Col, {\n          xs: {\n            span: 24\n          },\n          sm: {\n            span: 16\n          },\n          children: /*#__PURE__*/_jsxDEV(CreateSetupStepThreeForm, {\n            setStepThreeForm: setStepThreeForm,\n            handleStepChange: handleStepChange,\n            stepThreeForm: stepThreeForm,\n            stepTwoForm: stepTwoForm,\n            imageNumber: 2,\n            currentStep: currentStep,\n            availImagePositions: availImagePositions,\n            removeImagePosition: removeImagePosition,\n            addImagePosition: addImagePosition,\n            onLoadScreenType: onLoadScreenType\n          }, 3, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this) : currentStep === 6 ? /*#__PURE__*/_jsxDEV(Col, {\n          xs: {\n            span: 22\n          },\n          sm: {\n            span: 16\n          },\n          children: /*#__PURE__*/_jsxDEV(CreateSetupConfirmation, {\n            stepOneForm: stepOneForm,\n            handleStepChange: handleStepChange,\n            stepTwoForm: stepTwoForm,\n            stepThreeForm: stepThreeForm,\n            currentStep: currentStep,\n            availImagePositions: availImagePositions,\n            onLoadScreenType: onLoadScreenType\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this) : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CreateRoomPage, \"HKpJVlzyyRCMmmvMbUSGxYgF5cU=\", false, function () {\n  return [useRouter, useMediaQuery, useMediaQuery, useMediaQuery];\n});\n\n_c = CreateRoomPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateRoomPage\");","map":{"version":3,"sources":["/Users/joshmcdaniel/Documents/work/repos/setup_share/pages/createroom.tsx"],"names":["React","useState","useEffect","useContext","UserContext","Row","Col","Typography","useRouter","Layout","CreateSetupStepOneForm","CreateSetupStepTwoForm","CreateSetupStepThreeForm","CreateSetupConfirmation","styles","useMediaQuery","BaseAPI","axios","Title","CreateRoomPage","currentUser","setUser","router","loading","setLoading","title","description","setupType","stepOneForm","setStepOneForm","stepTwoForm","setStepTwoForm","imageOne","imageTwo","imageThree","stepThreeForm","setStepThreeForm","currentStep","setCurrentStep","availImagePositions","setAvailImagePositions","onLoadScreenType","setOnLoadScreenType","isMobile","maxWidth","isTablet","minWidth","isLaptop","reload","console","log","get","withCredentials","response","data","userInfo","handleStepChange","step","removeImagePosition","position","orgList","newList","filter","item","addImagePosition","prevPosition","includes","s1","s2","s3","createRoomContainer","minHeight","span"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { UserContext } from \"../utils/context/userContext\";\nimport { Row, Col, Typography } from \"antd\";\nimport { useRouter } from \"next/router\";\nimport { GetServerSideProps } from \"next\";\nimport Layout from \"../components/Layout/Layout\";\nimport CreateSetupStepOneForm from \"../components/CreateSetupForms/CreateSetupStepOneForm\";\nimport CreateSetupStepTwoForm from \"../components/CreateSetupForms/CreateSetupStepTwoForm\";\nimport CreateSetupStepThreeForm from \"../components/CreateSetupForms/CreateSetupStepThreeForm\";\nimport CreateSetupConfirmation from \"../components/CreateSetupForms/CreateSetupConfirmation\";\nimport styles from \"../components/CreateSetupForms/createRoomForms.module.scss\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { pageAuthCheck } from \"../utils/helperFunctions/pageAuthCheck\";\nimport { UserContextRenew } from \"../utils/helperFunctions/userContextRenew\";\nimport { BaseAPI } from \"../utils/constants/common\";\nimport axios from \"axios\";\n\nconst { Title } = Typography;\n\ninterface StepOne {\n  title: string;\n  description: string;\n  setupType: string;\n}\n\nexport default function CreateRoomPage() {\n  const { currentUser, setUser } = useContext<any>(UserContext);\n  const router = useRouter();\n  const [loading, setLoading] = useState(false);\n  const [stepOneForm, setStepOneForm] = useState<StepOne>({\n    title: \"\",\n    description: \"\",\n    setupType: \"\",\n  });\n  const [stepTwoForm, setStepTwoForm] = useState<any>([]);\n  const [stepThreeForm, setStepThreeForm] = useState<object>({\n    imageOne: null,\n    imageTwo: null,\n    imageThree: null,\n  });\n  const [currentStep, setCurrentStep] = useState(1);\n  const [availImagePositions, setAvailImagePositions] = useState([\n    \"Main\",\n    \"Left\",\n    \"Right\",\n  ]);\n  const [onLoadScreenType, setOnLoadScreenType] = useState<string>(\"\");\n  const isMobile = useMediaQuery({ maxWidth: 767 });\n  const isTablet = useMediaQuery({ minWidth: 768, maxWidth: 991 });\n  const isLaptop = useMediaQuery({ minWidth: 992 });\n\n  useEffect(() => {\n    // const cookieUser = UserContextRenew();\n    // setUser(cookieUser);\n    // console.log(currentUser);\n    //TODO need to figure out logic to set context on reload if cookie present\n    reload();\n  }, []);\n\n  useEffect(() => {\n    if (isMobile) {\n      setOnLoadScreenType(\"Mobile\");\n    } else if (isTablet) {\n      setOnLoadScreenType(\"Tablet\");\n    } else if (isLaptop) {\n      setOnLoadScreenType(\"Laptop\");\n    }\n  }, []);\n\n  const reload = async () => {\n    console.log(\"test2\");\n    try {\n      const response = await axios.get(`${BaseAPI}/user/usercontext`, {\n        withCredentials: true,\n      });\n      const userInfo = await response.data;\n      console.log(\"test\");\n      return userInfo;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleStepChange = (step: number) => {\n    setCurrentStep(step);\n  };\n  const removeImagePosition = (position: string) => {\n    const orgList = availImagePositions;\n    const newList = orgList.filter((item) => item !== position);\n    setAvailImagePositions([...newList]);\n  };\n  //need to change logic so that if you go back steps it clears list from step point so that rest are availble\n  // exmaple: three images and on confirmation screen. Click to edit 1st image, you would only be able to select that image position\n  //however, if you are on confirmation screen and go back two steps manually then you would have access to both of those image positions\n  const addImagePosition = (prevPosition: string) => {\n    const orgList = availImagePositions;\n    if (!orgList.includes(prevPosition)) {\n      const newList = [prevPosition, ...orgList];\n      setAvailImagePositions([...newList]);\n    }\n  };\n  console.log({\n    s1: stepOneForm,\n    s2: stepTwoForm,\n    s3: stepThreeForm,\n  });\n  console.log(currentUser);\n  return (\n    <Layout title=\"Create Setup\">\n      <div id={styles.createRoomContainer}>\n        <Row justify=\"center\" style={{ minHeight: \"100vh\" }}>\n          {currentStep === 1 ? (\n            <Col xs={{ span: 22 }} sm={{ span: 16 }}>\n              <CreateSetupStepOneForm\n                setStepOneForm={setStepOneForm}\n                handleStepChange={handleStepChange}\n                stepOneForm={stepOneForm}\n              />\n            </Col>\n          ) : currentStep === 2 ? (\n            <Col xs={{ span: 22 }} sm={{ span: 16 }}>\n              <CreateSetupStepTwoForm\n                setStepTwoForm={setStepTwoForm}\n                handleStepChange={handleStepChange}\n                stepTwoForm={stepTwoForm}\n                setStepThreeForm={setStepThreeForm}\n                stepThreeForm={stepThreeForm}\n              />\n            </Col>\n          ) : currentStep === 3 ? (\n            <Col xs={{ span: 24 }} sm={{ span: 16 }}>\n              <CreateSetupStepThreeForm\n                key={1}\n                setStepThreeForm={setStepThreeForm}\n                handleStepChange={handleStepChange}\n                stepThreeForm={stepThreeForm}\n                stepTwoForm={stepTwoForm}\n                imageNumber={0}\n                currentStep={currentStep}\n                availImagePositions={availImagePositions}\n                removeImagePosition={removeImagePosition}\n                addImagePosition={addImagePosition}\n                onLoadScreenType={onLoadScreenType}\n              />\n            </Col>\n          ) : currentStep === 4 ? (\n            <Col xs={{ span: 24 }} sm={{ span: 16 }}>\n              <CreateSetupStepThreeForm\n                key={2}\n                setStepThreeForm={setStepThreeForm}\n                handleStepChange={handleStepChange}\n                stepThreeForm={stepThreeForm}\n                stepTwoForm={stepTwoForm}\n                imageNumber={1}\n                currentStep={currentStep}\n                availImagePositions={availImagePositions}\n                removeImagePosition={removeImagePosition}\n                addImagePosition={addImagePosition}\n                onLoadScreenType={onLoadScreenType}\n              />\n            </Col>\n          ) : currentStep === 5 ? (\n            <Col xs={{ span: 24 }} sm={{ span: 16 }}>\n              <CreateSetupStepThreeForm\n                key={3}\n                setStepThreeForm={setStepThreeForm}\n                handleStepChange={handleStepChange}\n                stepThreeForm={stepThreeForm}\n                stepTwoForm={stepTwoForm}\n                imageNumber={2}\n                currentStep={currentStep}\n                availImagePositions={availImagePositions}\n                removeImagePosition={removeImagePosition}\n                addImagePosition={addImagePosition}\n                onLoadScreenType={onLoadScreenType}\n              />\n            </Col>\n          ) : currentStep === 6 ? (\n            <Col xs={{ span: 22 }} sm={{ span: 16 }}>\n              <CreateSetupConfirmation\n                stepOneForm={stepOneForm}\n                handleStepChange={handleStepChange}\n                stepTwoForm={stepTwoForm}\n                stepThreeForm={stepThreeForm}\n                currentStep={currentStep}\n                availImagePositions={availImagePositions}\n                onLoadScreenType={onLoadScreenType}\n              />\n            </Col>\n          ) : (\n            \"\"\n          )}\n        </Row>\n      </div>\n    </Layout>\n  );\n}\n\nexport const getServerSideProps: GetServerSideProps = async (context) => {\n  return pageAuthCheck(context);\n};\n"]},"metadata":{},"sourceType":"module"}