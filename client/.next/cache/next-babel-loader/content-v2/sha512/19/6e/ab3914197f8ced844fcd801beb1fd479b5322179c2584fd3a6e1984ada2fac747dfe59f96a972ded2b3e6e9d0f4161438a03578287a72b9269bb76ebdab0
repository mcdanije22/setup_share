{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/joshmcdaniel/Documents/work/repos/setup_share/pages/dashboard/analytics/[id].tsx\";\nimport styles from \"../../../pageStyles/analytics.module.scss\";\nimport DashboardLayout from \"../../../components/Layout/DashboardLayout\";\nimport { pageAuthCheck } from \"../../../utils/helperFunctions/pageAuthCheck\";\nimport { BaseAPI } from \"../../../utils/constants/common\";\nimport axios from \"axios\";\nimport { Card, Row, Col, PageHeader, Tag, Typography, Table, Space } from \"antd\";\nconst {\n  Meta\n} = Card;\nconst {\n  Title\n} = Typography;\nexport default function AnalyticsPage(props) {\n  const {\n    setUpInfo,\n    imageItems\n  } = props;\n  const data = [{\n    key: \"1\",\n    name: \"John Brown\",\n    age: 32,\n    address: \"New York No. 1 Lake Park\",\n    tags: [\"nice\", \"developer\"]\n  }, {\n    key: \"2\",\n    name: \"Jim Green\",\n    age: 42,\n    address: \"London No. 1 Lake Park\",\n    tags: [\"loser\"]\n  }, {\n    key: \"3\",\n    name: \"Joe Black\",\n    age: 32,\n    address: \"Sidney No. 1 Lake Park\",\n    tags: [\"cool\", \"teacher\"]\n  }];\n  const columns = [{\n    title: \"Item\",\n    dataIndex: \"name\",\n    key: \"name\",\n    render: text => /*#__PURE__*/_jsxDEV(\"a\", {\n      children: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }, this)\n  }, {\n    title: \"Clicks\",\n    dataIndex: \"age\",\n    key: \"age\"\n  }, {\n    title: \"Affilate\",\n    dataIndex: \"address\",\n    key: \"address\"\n  }, {\n    title: \"Tags\",\n    key: \"tags\",\n    dataIndex: \"tags\",\n    render: tags => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: tags.map(tag => {\n        let color = tag.length > 5 ? \"geekblue\" : \"green\";\n\n        if (tag === \"loser\") {\n          color = \"volcano\";\n        }\n\n        return /*#__PURE__*/_jsxDEV(Tag, {\n          color: color,\n          children: tag.toUpperCase()\n        }, tag, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false)\n  }, {\n    title: \"Action\",\n    key: \"action\",\n    render: (text, record) => /*#__PURE__*/_jsxDEV(Space, {\n      size: \"middle\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        children: [\"Invite \", record.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this)\n  }];\n  console.log(props);\n  return /*#__PURE__*/_jsxDEV(DashboardLayout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: styles.analyticsContainer,\n      children: [/*#__PURE__*/_jsxDEV(PageHeader, {\n        style: {\n          padding: \"1rem 0\"\n        },\n        title: `${setUpInfo[0].setup_title} Analytics`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: styles.ProjectList,\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          gutter: [48, 28],\n          justify: \"start\",\n          children: setUpInfo.sort((a, b) => a.image_position_number > b.image_position_number ? 1 : -1).map((project, i) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                xs: {\n                  span: 24\n                },\n                md: {\n                  span: 12\n                },\n                lg: {\n                  span: 6\n                },\n                className: styles.cardSpacer,\n                children: /*#__PURE__*/_jsxDEV(Card, {\n                  hoverable: true,\n                  cover: /*#__PURE__*/_jsxDEV(\"img\", {\n                    alt: \"setup photo\",\n                    src: project.image_url\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 27\n                  }, this),\n                  children: /*#__PURE__*/_jsxDEV(Meta, {\n                    title: [\n                    /*#__PURE__*/\n                    //If setup is selected put classname as active\n                    _jsxDEV(Title, {\n                      level: 5,\n                      className: styles.active,\n                      children: [project.image_position, \" Image\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 21\n              }, this)\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        style: {\n          marginTop: \"8rem\"\n        },\n        columns: columns,\n        dataSource: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n}\nexport const getServerSideProps = async context => {\n  var _authCheck$props;\n\n  const {\n    id\n  } = context.query;\n  const authCheck = await pageAuthCheck(context);\n\n  if ((_authCheck$props = authCheck.props) !== null && _authCheck$props !== void 0 && _authCheck$props.authStatus) {\n    try {\n      const response = await axios.get(`${BaseAPI}/user/analytics/${id}`);\n      const setupAnalyticsInfo = await response.data;\n      return {\n        props: setupAnalyticsInfo\n      };\n    } catch (e) {\n      return {\n        redirect: {\n          permanent: false,\n          destination: \"/login\"\n        }\n      };\n    }\n  } else {\n    return {\n      redirect: {\n        permanent: false,\n        destination: \"/login\"\n      }\n    };\n  }\n};","map":{"version":3,"sources":["/Users/joshmcdaniel/Documents/work/repos/setup_share/pages/dashboard/analytics/[id].tsx"],"names":["styles","DashboardLayout","pageAuthCheck","BaseAPI","axios","Card","Row","Col","PageHeader","Tag","Typography","Table","Space","Meta","Title","AnalyticsPage","props","setUpInfo","imageItems","data","key","name","age","address","tags","columns","title","dataIndex","render","text","map","tag","color","length","toUpperCase","record","console","log","analyticsContainer","padding","setup_title","ProjectList","sort","a","b","image_position_number","project","i","span","cardSpacer","image_url","active","image_position","marginTop","getServerSideProps","context","id","query","authCheck","authStatus","response","get","setupAnalyticsInfo","e","redirect","permanent","destination"],"mappings":"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","sourcesContent":["import styles from \"../../../pageStyles/analytics.module.scss\";\nimport dashboardStyles from \"../../../components/Layout/DashboardLayout.module.scss\";\nimport DashboardLayout from \"../../../components/Layout/DashboardLayout\";\nimport { GetServerSideProps } from \"next\";\nimport { pageAuthCheck } from \"../../../utils/helperFunctions/pageAuthCheck\";\nimport { BaseAPI } from \"../../../utils/constants/common\";\nimport axios from \"axios\";\nimport {\n  Card,\n  Row,\n  Col,\n  Modal,\n  Button,\n  PageHeader,\n  Tag,\n  Divider,\n  Typography,\n  message,\n  Table,\n  Space,\n} from \"antd\";\n\nconst { Meta } = Card;\nconst { Title } = Typography;\n\ninterface Props {\n  setUpInfo: Array<object>;\n  imageItem: Array<object>;\n}\n\nexport default function AnalyticsPage(props) {\n  const { setUpInfo, imageItems } = props;\n  const data = [\n    {\n      key: \"1\",\n      name: \"John Brown\",\n      age: 32,\n      address: \"New York No. 1 Lake Park\",\n      tags: [\"nice\", \"developer\"],\n    },\n    {\n      key: \"2\",\n      name: \"Jim Green\",\n      age: 42,\n      address: \"London No. 1 Lake Park\",\n      tags: [\"loser\"],\n    },\n    {\n      key: \"3\",\n      name: \"Joe Black\",\n      age: 32,\n      address: \"Sidney No. 1 Lake Park\",\n      tags: [\"cool\", \"teacher\"],\n    },\n  ];\n\n  const columns = [\n    {\n      title: \"Item\",\n      dataIndex: \"name\",\n      key: \"name\",\n      render: (text) => <a>{text}</a>,\n    },\n    {\n      title: \"Clicks\",\n      dataIndex: \"age\",\n      key: \"age\",\n    },\n    {\n      title: \"Affilate\",\n      dataIndex: \"address\",\n      key: \"address\",\n    },\n    {\n      title: \"Tags\",\n      key: \"tags\",\n      dataIndex: \"tags\",\n      render: (tags) => (\n        <>\n          {tags.map((tag) => {\n            let color = tag.length > 5 ? \"geekblue\" : \"green\";\n            if (tag === \"loser\") {\n              color = \"volcano\";\n            }\n            return (\n              <Tag color={color} key={tag}>\n                {tag.toUpperCase()}\n              </Tag>\n            );\n          })}\n        </>\n      ),\n    },\n    {\n      title: \"Action\",\n      key: \"action\",\n      render: (text, record) => (\n        <Space size=\"middle\">\n          <a>Invite {record.name}</a>\n          <a>Delete</a>\n        </Space>\n      ),\n    },\n  ];\n  console.log(props);\n  return (\n    <DashboardLayout>\n      <div id={styles.analyticsContainer}>\n        <PageHeader\n          style={{ padding: \"1rem 0\" }}\n          title={`${setUpInfo[0].setup_title} Analytics`}\n        />\n        <div id={styles.ProjectList}>\n          <Row gutter={[48, 28]} justify=\"start\">\n            {setUpInfo\n              .sort((a, b) =>\n                a.image_position_number > b.image_position_number ? 1 : -1\n              )\n              .map((project, i) => {\n                return (\n                  <div key={i}>\n                    <Col\n                      xs={{ span: 24 }}\n                      md={{ span: 12 }}\n                      lg={{ span: 6 }}\n                      className={styles.cardSpacer}\n                    >\n                      <Card\n                        hoverable\n                        cover={\n                          <img alt=\"setup photo\" src={project.image_url} />\n                        }\n                      >\n                        <Meta\n                          title={[\n                            //If setup is selected put classname as active\n                            <Title level={5} className={styles.active}>\n                              {project.image_position} Image\n                            </Title>,\n                          ]}\n                        />\n                      </Card>\n                    </Col>\n                  </div>\n                );\n              })}\n          </Row>\n        </div>\n        <Table\n          style={{ marginTop: \"8rem\" }}\n          columns={columns}\n          dataSource={data}\n        />\n      </div>\n    </DashboardLayout>\n  );\n}\n\nexport const getServerSideProps: GetServerSideProps = async (context) => {\n  const { id } = context.query;\n  const authCheck = await pageAuthCheck(context);\n  if (authCheck.props?.authStatus) {\n    try {\n      const response = await axios.get(`${BaseAPI}/user/analytics/${id}`);\n      const setupAnalyticsInfo = await response.data;\n      return {\n        props: setupAnalyticsInfo,\n      };\n    } catch (e) {\n      return {\n        redirect: {\n          permanent: false,\n          destination: \"/login\",\n        },\n      };\n    }\n  } else {\n    return {\n      redirect: {\n        permanent: false,\n        destination: \"/login\",\n      },\n    };\n  }\n};\n"]},"metadata":{},"sourceType":"module"}